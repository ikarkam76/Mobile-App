{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { firebase } from \"../../fireBase/config\";\nimport { authSlice } from \"./authReduser\";\nvar _authSlice$actions = authSlice.actions,\n  updateUserProfile = _authSlice$actions.updateUserProfile,\n  authStateChange = _authSlice$actions.authStateChange,\n  authSingOut = _authSlice$actions.authSingOut;\nexport var authSingUPUser = function authSingUPUser(_ref) {\n  var login = _ref.login,\n    email = _ref.email,\n    password = _ref.password;\n  return function () {\n    var _ref2 = _asyncToGenerator(function* (dispatch, getState) {\n      try {\n        yield firebase.auth().createUserWithEmailAndPassword(email, password);\n        var user = yield firebase.auth().currentUser;\n        yield user.updateProfile({\n          displayName: login\n        });\n        var _yield$firebase$auth$ = yield firebase.auth().currentUser,\n          uid = _yield$firebase$auth$.uid,\n          displayName = _yield$firebase$auth$.displayName;\n        dispatch(updateUserProfile({\n          userId: uid,\n          login: displayName\n        }));\n      } catch (error) {\n        console.log(error.message);\n      }\n    });\n    return function (_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var authSingInUser = function authSingInUser(_ref3) {\n  var email = _ref3.email,\n    password = _ref3.password;\n  return function () {\n    var _ref4 = _asyncToGenerator(function* (dispatch, getState) {\n      try {\n        yield firebase.auth().signInWithEmailAndPassword(email, password);\n      } catch (error) {\n        console.log(error.message);\n      }\n    });\n    return function (_x3, _x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var authChangeStateUser = function authChangeStateUser() {\n  return function () {\n    var _ref5 = _asyncToGenerator(function* (dispatch, getState) {\n      try {\n        yield firebase.auth().onAuthStateChanged(function (user) {\n          if (user) {\n            dispatch(updateUserProfile({\n              userId: user.uid,\n              login: user.displayName\n            }));\n            dispatch(authStateChange({\n              stateChange: true\n            }));\n          } else {\n            dispatch(authStateChange({\n              stateChange: false\n            }));\n          }\n        });\n      } catch (error) {\n        console.log(error.message);\n      }\n    });\n    return function (_x5, _x6) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};\nexport var authSingOutUser = function authSingOutUser() {\n  return function () {\n    var _ref6 = _asyncToGenerator(function* (dispatch, getState) {\n      try {\n        yield firebase.auth().signOut();\n        dispatch(authSingOut());\n      } catch (error) {\n        console.log(error.message);\n      }\n    });\n    return function (_x7, _x8) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"names":["firebase","authSlice","actions","updateUserProfile","authStateChange","authSingOut","authSingUPUser","login","email","password","dispatch","getState","auth","createUserWithEmailAndPassword","user","currentUser","updateProfile","displayName","uid","userId","error","console","log","message","authSingInUser","signInWithEmailAndPassword","authChangeStateUser","onAuthStateChanged","stateChange","authSingOutUser","signOut"],"sources":["C:/Projects/React Native/Mobile App/redux/auth/authOperations.js"],"sourcesContent":["import {firebase} from \"../../fireBase/config\";\r\nimport { authSlice } from \"./authReduser\";\r\n\r\nconst { updateUserProfile, authStateChange, authSingOut} = authSlice.actions;\r\n\r\nexport const authSingUPUser =\r\n  ({ login, email, password }) =>\r\n  async (dispatch, getState) => {\r\n    try {\r\n      await firebase.auth().createUserWithEmailAndPassword(email, password);\r\n      const user = await firebase.auth().currentUser;\r\n      await user.updateProfile({ displayName: login });\r\n      const { uid, displayName } = await firebase.auth().currentUser;\r\n      dispatch( updateUserProfile({userId:uid, login:displayName}) );\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n        };\r\n  \r\nexport const authSingInUser =\r\n  ({ email, password }) =>\r\n  async (dispatch, getState) => {\r\n    try {\r\n      await firebase.auth().signInWithEmailAndPassword( email, password);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\nexport const authChangeStateUser = () =>\r\n  async (dispatch, getState) => {\r\n  try {\r\n    await firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        dispatch( updateUserProfile({\r\n            userId: user.uid,\r\n            login: user.displayName,\r\n          })\r\n        );\r\n        dispatch( authStateChange({\r\n            stateChange: true,\r\n          })\r\n        );\r\n      } else {\r\n        dispatch( authStateChange({\r\n            stateChange: false,\r\n          })\r\n        );\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n  };\r\n\r\nexport const authSingOutUser = () =>\r\n  async (dispatch, getState) => {\r\n    try {\r\n      await firebase.auth().signOut();\r\n      dispatch(authSingOut());\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };"],"mappings":"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"},"metadata":{},"sourceType":"module"}